"use strict";
module.exports = (fulfillmentHandlers) => {
    const { Router } = require('express');
    const bodyParser = require('body-parser');
    const cookieParser = require('cookie-parser');
    const router = Router();
    router.use(bodyParser.urlencoded({ extended: false }));
    router.use(bodyParser.json());
    router.use(cookieParser());
    const keys = Object.keys(fulfillmentHandlers);
    keys.forEach(key => {
        router.use(`/${key}`, fulfillmentHandlers[key]);
    });
    router.use('/', (req, res) => res.status(401).send('hmm..'));
    return router;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY2hhdGJvdHMvZnVsZmlsbG1lbnQvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLGlCQUFTLENBQUMsbUJBQW1CLEVBQUUsRUFBRTtJQUMvQixNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ3JDLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQTtJQUN6QyxNQUFNLFlBQVksR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUE7SUFFN0MsTUFBTSxNQUFNLEdBQUcsTUFBTSxFQUFFLENBQUE7SUFDdkIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQTtJQUN0RCxNQUFNLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFBO0lBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQTtJQUUxQixNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUE7SUFDN0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNqQixNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxFQUFFLEVBQUUsbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtJQUNqRCxDQUFDLENBQUMsQ0FBQTtJQUVGLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQTtJQUM1RCxPQUFPLE1BQU0sQ0FBQTtBQUNmLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCA9IChmdWxmaWxsbWVudEhhbmRsZXJzKSA9PiB7XG4gIGNvbnN0IHsgUm91dGVyIH0gPSByZXF1aXJlKCdleHByZXNzJylcbiAgY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJylcbiAgY29uc3QgY29va2llUGFyc2VyID0gcmVxdWlyZSgnY29va2llLXBhcnNlcicpXG5cbiAgY29uc3Qgcm91dGVyID0gUm91dGVyKClcbiAgcm91dGVyLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpXG4gIHJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpXG4gIHJvdXRlci51c2UoY29va2llUGFyc2VyKCkpXG5cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGZ1bGZpbGxtZW50SGFuZGxlcnMpXG4gIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgIHJvdXRlci51c2UoYC8ke2tleX1gLCBmdWxmaWxsbWVudEhhbmRsZXJzW2tleV0pXG4gIH0pXG5cbiAgcm91dGVyLnVzZSgnLycsIChyZXEsIHJlcykgPT4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoJ2htbS4uJykpXG4gIHJldHVybiByb3V0ZXJcbn1cbiJdfQ==